// working on linux 22/01/26

TO DO
-- Get determinisitc solver working
-- Simulates genetic data and group data ( using  wildcard from js version)
- Simulate 'add-ind-inf' data from simulation
-- Table output for graphs
-- Can Oli's equations be implemented?
-- Differential equation solverin BICI?
-- Raise limit on number of time steps and email Laura
-- Mention in manual about negative population problem
-- Work out what is taking lots of memory in Grants model
-- Event times the same... throw error?

-- HPAI_SML_update using lots of cpu on ind-update population
-- E4 expected rate is off
-- Installing mpi on windows... How to check if there... change functionality
-- Do testing of genetic part

-- For initial conditions view as table or as compartment (good when there are a lot of compartments)

-- Sort out fixed initial population for individual and population-based models (perhaps convert to Dirichlet?)

SORT out sampler:
-- sampling improvement
-- Sort out how partially observed transitions affect ind sampler... 

NEXT
-- Delay differential equations 
get mac version video working

SEE if(sp.obs_trans_exist){  // Accounts for observation probability on transi

-- Stop file read from loading when one file cannot be loaded
-- get_calc_hash_num(  does this need to be improved?

AFTER
test proposals using initial state
test trans-tree proposals using initial state
- mac memory
trans tree not displaying correctly for bad cat model
error bad cat model when Ib not set to infected  Chech that Ib is infected
geno_farm with gamma distribution
- prob1: parameter a not being estimated correctly
investigate if(1 == 0 && sp.tra_gl.size()*sp.comp_gl.size() <









FUTURE THINGS TO GET SORTED
- plot showing population density vs climate
- plot showing climate mitigation vs climate
- Model evidence
- MC3


DONE
-- allow for restart of inference
-- Mareks diagnostic expected transition rate not right
-- annealing too fast?
-- speed up grant?
-- Synchornise proposals for non-parameter
list too long in interface
-- Reduce processing time for mareks
-- seg faults when doing pas-mcmc on windows version with 2 parts
//emsg("fa");// calculate_mult(linearise.factor,ti,precalc);
//emsg("H");// *calculate_mult(linearise.pop_grad_calc[j],ti,precalc);
-- sort out examples (download from github)
-- "cols" not being used when loading up individual effects (Jamie problem)
-- density
-- Grant problem
-- Grant problem2
-- Visualisation time slow for Jamies model

- Check derived functions
- initial conditions not working
- output slow...
- Mac version not load
- Can populations be used in reparameterise equations?


- Can move events be used with NM transitions?
{I^b} dies not display correctly
- FMD_v2.5_markets move events test
grant email
add names to data source
make alterations to bici file and check error messages
check obs warning is working
model E5 checking takes ages...
sort out directories form sim 
C5 D4, D5, D6 Dposterior simulation valgrind
E3, E4, E8, G1 inf
test post-sim for all examples
-- Long for output (see Grant's file)
-- spline square and cubic
Is output using too much memory?
-- warnigns for memory
spline
manual
correct zzz
jamie error message
grant integral problem
nonpop speed up

-- allow for splines to go outside of time range
-- problem with move-ind-inf in interface
integral calculate over time
div-value calculate over time
ways to speed up fishboost
go through others
test all examples
markov likelihood para
-- If equations differ by a factor then speed up using this
pop-based models
version in output file
-- mention in manual about speed of BICI
-- markov tree problem
-- omega wrong in graph axis
-- when histogram should not have radio buts
-- problem.bici
-- ABC param_resample sort out

while potentially slow
auto j = 0u; while(j < C && z > sampler[j].prob_sum) j++;
auto j = 0u; while(j < C && claa.island[isl].comp[j].c != ci) j++;
auto l = 0u; while(l < lmax && co.leave[l].tr != tr) l++;
auto k = 0u; while(k < sampler.size() && z > sampler[k].prob_sum) k++;
auto c = 0u; while(c < C && z > prob_sum[c]) c++;
auto k = 0u; while(k < sampler.size() && z > sampler[k].prob_sum) k++;
auto k = 0u; while(k < sum_store.size() && z > sum_store[k]) k++;
k = 0u; while(k < B && z > sum_store[k]) k++;
auto k = 0u; while(k < sum_store.size() && z > sum_store[k]) k++;
auto k = 0u; while(k < trig_event.size() && trig_event[k].tdiv != eve.tdiv) k++;